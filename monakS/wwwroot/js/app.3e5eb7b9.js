(function(e){function t(t){for(var r,o,c=t[0],s=t[1],l=t[2],p=0,m=[];p<c.length;p++)o=c[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"4e02":function(e,t,n){"use strict";n("f51e")},"56d7":function(e,t,n){"use strict";n.r(t);n("b64b"),n("96cf");var r=n("1da1"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("router-view")],1)],1)},o=[],c=n("e87a"),s={name:"App",mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("production"),console.log(e.SERVER_URL);case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{}}},l=s,u=(n("034f"),n("2877")),p=n("6544"),m=n.n(p),d=n("7496"),v=n("f6c4"),f=Object(u["a"])(l,i,o,!1,null,null,null),h=f.exports;m()(f,{VApp:d["a"],VMain:v["a"]});var b=n("8c4f"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:null!=e.cameras&&0==e.cameras.length,expression:"cameras != null && cameras.length == 0"}],attrs:{color:"primary"},on:{click:function(t){return e.$router.push("setup")}}},[e._v(" Add Camera "),n("v-icon",[e._v(" mdi-camera-plus ")])],1),e._l(e.cameras,(function(t,r){return n("div",{key:r},[n("VideoPlayer",{attrs:{cam:t,stream:e.streams[t.id]}})],1)}))],2)},w=[],x=(n("ac1f"),n("5319"),n("b85c")),y=n("8785"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{position:"relative"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.overlay,expression:"overlay"}],staticClass:"headline font-weight-bold overlay",staticStyle:{top:"5%",left:"50%"}},[e._v(" "+e._s(e.cam.name)+" ")]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.cam.isObjectDetectionEnabled,expression:"cam.isObjectDetectionEnabled"}],staticClass:"overlay",staticStyle:{top:"5%",right:"0px"}},[n("v-icon",{attrs:{color:"orange"}},[e._v("mdi-motion-sensor")])],1),n("DetectionCanvas",{attrs:{cam:e.cam}}),n("span",{directives:[{name:"show",rawName:"v-show",value:e.motionCaptureActive||e.timerCaptureActive||e.manualCaptureActive,expression:"motionCaptureActive || timerCaptureActive || manualCaptureActive"}],staticClass:"overlay",staticStyle:{top:"5%",right:"40px"}},[n("v-icon",{attrs:{color:e.manualCaptureActive?"red":"orange"}},[e._v("mdi-record-circle")])],1),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.overlay,expression:"overlay"}],staticStyle:{bottom:"20px"},attrs:{color:e.manualCaptureActive?"red":e.captureActive?"orange":"green",dark:"",fab:"",absolute:"",left:""},on:{click:function(t){return e.toggleCapture(e.cam)}}},[n("v-icon",[e._v("mdi-camera")])],1),n("video",{directives:[{name:"hold",rawName:"v-hold.500",value:function(){e.isInteractive&&(e.overlay=!e.overlay)},expression:"\n      () => {\n        if (isInteractive) overlay = !overlay;\n      }\n    ",modifiers:{500:!0}}],ref:"player",attrs:{autoplay:"",muted:"",playsinline:""},domProps:{muted:!0,srcObject:e.stream},on:{loadeddata:e.playing}})],1)},C=[],_=(n("4de4"),n("45fc"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"pointer-events":"none"}},[n("transition",{attrs:{name:"fade"}},[n("canvas",{ref:"canvas",staticClass:"overlay"})])],1)}),R=[],S={name:"DetectionCanvas",props:{cam:Object},methods:{detectionResult:function(e){var t=this;console.log(e);var n=e.cam,r=e.summary;if(n.id==this.cam.id){var a=this.$refs.canvas,i=a.getContext("2d");a.width=a.clientWidth,a.height=a.clientHeight,this.visible=!0,this.lastMsg=e,setTimeout((function(){t.lastMsg==e&&(i.clearRect(0,0,a.width,a.height),i.stroke(),t.visible=!1)}),2e3),i.clearRect(0,0,a.width,a.height),i.stroke();var o,c=r.detections.filter((function(e){return"person"==e.label})),s=Object(x["a"])(c);try{for(s.s();!(o=s.n()).done;){var l=o.value;console.log("detected");var u=a.width*l.left,p=a.height*l.top,m=a.width*l.right-u,d=a.height*l.bottom-p;i.lineWidth=4,i.strokeStyle="#E6007E",i.strokeRect(u,p,m,d),i.strokeStyle="black",i.fillStyle="#E6007E",i.font="bold 16px monospace",i.strokeText(l.label.toUpperCase(),u,p),i.fillText(l.label.toUpperCase(),u,p),i.stroke()}}catch(v){s.e(v)}finally{s.f()}}}},mounted:function(){this.SIGNAL_R.on("OnDetectionResult",this.detectionResult)},beforeDestroy:function(){this.SIGNAL_R.off("OnDetectionResult",this.detectionResult)},data:function(){return{visible:!1,lastMsg:{}}}},j=S,O=(n("4e02"),Object(u["a"])(j,_,R,!1,null,"07214e3a",null)),T=O.exports,A=n("9530"),D=n.n(A);function V(){var e=Object(y["a"])(["\n          subscription($id: Int!) {\n            onActiveCapturesChanged(\n              where: { isActive: { eq: true }, cam: { id: { eq: $id } } }\n            ) {\n              isActive\n              trigger\n              name\n              cam {\n                id\n              }\n            }\n          }\n        "]);return V=function(){return e},e}function P(){var e=Object(y["a"])(["\n        query($id: Int!) {\n          captures(\n            where: { isActive: { eq: true }, cam: { id: { eq: $id } } }\n          ) {\n            isActive\n            trigger\n            name\n            cam {\n              id\n            }\n          }\n        }\n      "]);return P=function(){return e},e}var E={name:"VideoPlayer",props:{stream:MediaStream,isInteractive:{default:!0,type:Boolean},cam:Object},components:{DetectionCanvas:T},apollo:{captures:{query:D()(P()),subscribeToMore:{document:D()(V()),variables:function(){return{id:this.cam.id}},updateQuery:function(e,t){var n=this,r=t.subscriptionData,a=r.data.onActiveCapturesChanged;return a=a.filter((function(e){return e.cam.id==n.cam.id})),{captures:a}}},variables:function(){return{id:this.cam.id}},result:function(e){var t=e.data.captures;t&&(this.motionCaptureActive=t.some((function(e){return"MOTION"==e.trigger})),this.manualCaptureActive=t.some((function(e){return"MANUAL"==e.trigger})),this.timerCaptureActive=t.some((function(e){return"TIMER"==e.trigger})))}}},computed:{captureActive:function(){return this.motionCaptureActive||this.timerCaptureActive||this.manualCaptureActive}},methods:{playing:function(){this.$emit("playing")},toggleCapture:function(){this.manualCaptureActive?this.SIGNAL_R.invoke("stopCapture",this.cam):this.SIGNAL_R.invoke("startCapture",this.cam)},captureStarted:function(e){var t=e.info;t.cam.id==this.cam.id&&("motion"==t.trigger?this.motionCaptureActive=!0:"manual"==t.trigger?this.manualCaptureActive=!0:"timer"==t.trigger&&(this.timerCaptureActive=!0))},captureResult:function(e){var t=e.info;t.cam.id==this.cam.id&&("motion"==t.trigger?this.motionCaptureActive=!1:"manual"==t.trigger?this.manualCaptureActive=!1:"timer"==t.trigger&&(this.timerCaptureActive=!1))}},data:function(){return{overlay:!1,motionCaptureActive:!1,manualCaptureActive:!1,timerCaptureActive:!1}}},N=E,I=(n("b681"),n("8336")),L=n("132d"),$=Object(u["a"])(N,k,C,!1,null,"4f33814b",null),U=$.exports;function G(){var e=Object(y["a"])(["\n          subscription {\n            onCamerasChanged {\n              name\n              id\n              isObjectDetectionEnabled\n            }\n          }\n        "]);return G=function(){return e},e}m()($,{VBtn:I["a"],VIcon:L["a"]});var M={name:"Home",components:{VideoPlayer:U},apollo:{$subscribe:{cameras:{query:D()(G()),result:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e.data,t.cameras=r.onCamerasChanged,t.streams=[],a=Object(x["a"])(t.cameras),n.prev=4,a.s();case 6:if((i=a.n()).done){n.next=12;break}return o=i.value,n.next=10,t.connect(o);case 10:n.next=6;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](4),a.e(n.t0);case 17:return n.prev=17,a.f(),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[4,14,17,20]])})))()}}}},methods:{connect:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,o,c,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new RTCPeerConnection,a.ontrack=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=r.streams[0],n.$set(n.streams,e.id,a);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.onicecandidate=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.candidate){e.next=3;break}return e.next=3,n.SIGNAL_R.invoke("setCandidate",i,t.candidate);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.next=5,n.SIGNAL_R.invoke("getSessionId",e);case 5:return i=t.sent,t.next=8,n.SIGNAL_R.invoke("getOffer",i);case 8:return o=t.sent,t.next=11,a.setRemoteDescription({type:"offer",sdp:o});case 11:return t.next=13,a.createAnswer();case 13:return c=t.sent,t.next=16,a.setLocalDescription(c);case 16:return s=a.localDescription.sdp,s=s.replace("a=fmtp:102 profile-level-id=42e01f;level-asymmetry-allowed=1;packetization-mode=1\r\n",""),t.next=20,n.SIGNAL_R.invoke("setAnswer",i,s);case 20:case"end":return t.stop()}}),t)})))()}},data:function(){return{streams:[],cameras:[]}}},q=M,B=(n("b785"),Object(u["a"])(q,g,w,!1,null,"66e2dbf3",null)),H=B.exports;m()(B,{VBtn:I["a"],VIcon:L["a"]});var J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setup"},[n("v-container",[n("v-stepper",{model:{value:e.stepper,callback:function(t){e.stepper=t},expression:"stepper"}},[n("v-stepper-header",[n("v-stepper-step",{attrs:{step:"1"}}),n("v-divider"),n("v-stepper-step",{attrs:{step:"2"}}),n("v-divider"),n("v-stepper-step",{attrs:{step:"3"}})],1),n("v-stepper-items",[n("v-stepper-content",{attrs:{step:"1"}},[n("v-tooltip",{attrs:{top:"","open-on-hover":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-row",{attrs:{align:"center",justify:"center"}},[n("div",{staticClass:"text-h6 text-center"},[e._v("Add Camera")]),n("v-btn",{attrs:{text:"","retain-focus-on-click":""},on:{click:r.click,blur:r.blur}},[n("v-icon",[e._v("mdi-help-circle-outline")])],1)],1)]}}])},[n("span",[e._v(" Enter a name and a "),n("u",[e._v("valid")]),e._v(" rtsp stream url. "),n("br"),e._v(" For a lot of models you can find settings "),n("a",{attrs:{href:"https://www.ispyconnect.com/sources.aspx"}},[e._v("here")]),e._v(". ")])]),n("v-text-field",{attrs:{label:"Name",placeholder:"Garage"},model:{value:e.camName,callback:function(t){e.camName=t},expression:"camName"}}),n("v-text-field",{attrs:{label:"Stream",placeholder:"rtsp://192.168.0.1:554/stream"},model:{value:e.camStream,callback:function(t){e.camStream=t},expression:"camStream"}}),n("v-switch",{attrs:{"prepend-icon":"mdi-lock"},model:{value:e.useCredentials,callback:function(t){e.useCredentials=t},expression:"useCredentials"}}),n("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.useCredentials,expression:"useCredentials"}],attrs:{label:"User"},model:{value:e.camUser,callback:function(t){e.camUser=t},expression:"camUser"}}),n("v-text-field",{directives:[{name:"show",rawName:"v-show",value:e.useCredentials,expression:"useCredentials"}],attrs:{"append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",type:e.showPassword?"text":"password",label:"Password",counter:""},on:{"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.camPassword,callback:function(t){e.camPassword=t},expression:"camPassword"}}),n("v-btn",{staticClass:"mt-8 mr-4",attrs:{color:e.error?"red":"green",loading:e.loading},on:{click:e.addCamera}},[e._v(" Save ")]),n("v-btn",{staticClass:"mt-8",on:{click:e.cancel}},[e._v(" Cancel ")])],1),n("v-stepper-content",{attrs:{step:"2"}},[n("v-tooltip",{attrs:{top:"","open-on-hover":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-row",{attrs:{align:"center",justify:"center"}},[n("div",{staticClass:"text-h6 text-center"},[e._v("Object Detection")]),n("v-btn",{attrs:{text:"","retain-focus-on-click":""},on:{click:r.click,blur:r.blur}},[n("v-icon",[e._v("mdi-help-circle-outline")])],1)],1)]}}])},[n("span",[e._v(" Enable or disable Object Detection. "),n("br"),e._v(" It is trained for detecting people. "),n("br"),e._v(" Be aware this will result in increased CPU usage. ")])]),null!=e.cam?n("VideoPlayer",{attrs:{cam:e.cam,stream:e.stream,isInteractive:!1},on:{playing:e.playing}}):e._e(),n("v-switch",{attrs:{"prepend-icon":e.enableObjectDetection?"mdi-motion-sensor":"mdi-motion-sensor-off"},model:{value:e.enableObjectDetection,callback:function(t){e.enableObjectDetection=t},expression:"enableObjectDetection"}}),n("v-expansion-panels",{directives:[{name:"show",rawName:"v-show",value:e.enableObjectDetection,expression:"enableObjectDetection"}]},[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("Advanced")]),n("v-expansion-panel-content",[n("v-switch",{attrs:{"prepend-icon":"mdi-record-rec"},model:{value:e.enableObjectDetectionRec,callback:function(t){e.enableObjectDetectionRec=t},expression:"enableObjectDetectionRec"}}),n("v-text-field",{attrs:{label:"Duration (s)",type:"number","prepend-icon":"mdi-clock-start"},model:{value:e.objectDetectionRecDuration,callback:function(t){e.objectDetectionRecDuration=t},expression:"objectDetectionRecDuration"}}),n("v-text-field",{attrs:{placeholder:"10s",label:"Timehsift (s)","prepend-icon":"mdi-autorenew"},model:{value:e.objectDetectionRecBufferDuration,callback:function(t){e.objectDetectionRecBufferDuration=t},expression:"objectDetectionRecBufferDuration"}})],1)],1)],1),n("v-btn",{staticClass:"mt-8 mr-4",attrs:{color:"green"},on:{click:function(t){return e.updateCamera()}}},[e._v(" Save ")]),n("v-btn",{staticClass:"mt-8 mr-4",attrs:{color:"primary"},on:{click:function(t){e.stepper=3}}},[e._v(" Continue ")]),n("v-btn",{staticClass:"mt-8",on:{click:e.cancel}},[e._v(" Cancel ")])],1),n("v-stepper-content",{attrs:{step:"3"}},[n("v-tooltip",{attrs:{top:"","open-on-hover":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-row",{attrs:{align:"center",justify:"center"}},[n("div",{staticClass:"text-h6 text-center"},[e._v("Timer")]),n("v-btn",{attrs:{text:"","retain-focus-on-click":""},on:{click:r.click,blur:r.blur}},[n("v-icon",[e._v("mdi-help-circle-outline")])],1)],1)]}}])},[n("span",[e._v(" Capture footage every day at a specific time interval. ")])]),n("v-switch",{attrs:{"prepend-icon":"mdi-clock-outline"},model:{value:e.useTimer,callback:function(t){e.useTimer=t},expression:"useTimer"}}),e.useTimer?n("v-dialog",{ref:"dialog1",attrs:{"return-value":e.startTime,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.startTime=t},"update:return-value":function(t){e.startTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Start","prepend-icon":"mdi-clock-start",readonly:""},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},"v-text-field",a,!1),r))]}}],null,!1,3841312212),model:{value:e.dialogStartTime,callback:function(t){e.dialogStartTime=t},expression:"dialogStartTime"}},[e.dialogStartTime?n("v-time-picker",{attrs:{format:"24hr",scrollable:"","full-width":""},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogStartTime=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog1.save(e.startTime)}}},[e._v(" OK ")])],1):e._e()],1):e._e(),e.useTimer?n("v-dialog",{ref:"dialog2",attrs:{"return-value":e.stopTime,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.stopTime=t},"update:return-value":function(t){e.stopTime=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,a=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Stop","prepend-icon":"mdi-clock-end",readonly:""},model:{value:e.stopTime,callback:function(t){e.stopTime=t},expression:"stopTime"}},"v-text-field",a,!1),r))]}}],null,!1,775256475),model:{value:e.dialogStopTime,callback:function(t){e.dialogStopTime=t},expression:"dialogStopTime"}},[e.dialogStopTime?n("v-time-picker",{attrs:{format:"24hr",scrollable:"","full-width":""},model:{value:e.stopTime,callback:function(t){e.stopTime=t},expression:"stopTime"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogStopTime=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog2.save(e.stopTime)}}},[e._v(" OK ")])],1):e._e()],1):e._e(),n("v-btn",{staticClass:"mt-8 mr-4",attrs:{color:"green"},on:{click:function(t){return e.$router.push("/")}}},[e._v(" Save ")]),n("v-btn",{staticClass:"mt-8",on:{click:e.cancel}},[e._v(" Cancel ")])],1)],1)],1)],1)],1)},z=[],F=(n("d3b7"),{name:"Setup",components:{VideoPlayer:U},methods:{connect:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise(function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(a,i){var o,c,s,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return o=new RTCPeerConnection,o.ontrack=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.streams[0],a(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o.onicecandidate=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.candidate){e.next=3;break}return e.next=3,t.SIGNAL_R.invoke("setCandidate",c,n.candidate);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.next=5,t.SIGNAL_R.invoke("getSessionId",e);case 5:return c=n.sent,n.next=8,t.SIGNAL_R.invoke("getOffer",c);case 8:return s=n.sent,n.next=11,o.setRemoteDescription({type:"offer",sdp:s});case 11:return n.next=13,o.createAnswer();case 13:return l=n.sent,n.next=16,o.setLocalDescription(l);case 16:return u=o.localDescription.sdp,u=u.replace("a=fmtp:102 profile-level-id=42e01f;level-asymmetry-allowed=1;packetization-mode=1\r\n",""),n.next=20,t.SIGNAL_R.invoke("setAnswer",c,u);case 20:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()));case 1:case"end":return n.stop()}}),n)})))()},playing:function(){this.stepper=2,this.loading=!1},cancel:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=e.cam&&fetch(e.SERVER_URL+"camera",{method:"DELETE",body:JSON.stringify(e.cam),headers:{"Content-Type":"application/json"}}),e.$router.push("/");case 2:case"end":return t.stop()}}),t)})))()},updateCamera:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.cam.isObjectDetectionEnabled=e.enableObjectDetection,t.next=3,fetch(e.SERVER_URL+"camera/".concat(e.cam.id),{method:"PUT",body:JSON.stringify(e.cam),headers:{"Content-Type":"application/json"}});case 3:return n=t.sent,t.t0=console,t.next=7,n.json();case 7:t.t1=t.sent,t.t0.log.call(t.t0,t.t1);case 9:case"end":return t.stop()}}),t)})))()},addCamera:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,fetch(e.SERVER_URL+"camera",{method:"POST",body:JSON.stringify({name:e.camName,streamUrl:e.camStream,user:e.camUser,password:e.camPassword}),headers:{"Content-Type":"application/json"}});case 3:if(n=t.sent,!n.ok){t.next=15;break}return t.next=7,n.json();case 7:return r=t.sent,t.next=10,e.connect(r);case 10:e.stream=t.sent,e.cam=r,e.error=!1,t.next=17;break;case 15:e.loading=!1,e.error=!0;case 17:case"end":return t.stop()}}),t)})))()}},data:function(){return{dialogStartTime:!1,dialogStopTime:!1,startTime:null,stopTime:null,useTimer:!1,cam:null,error:!1,loading:!1,showPassword:!1,useCredentials:!1,enableObjectDetection:!1,enableObjectDetectionRec:!0,objectDetectionRecDuration:30,objectDetectionRecBufferDuration:10,camPassword:"",camUser:"",camName:"",camStream:"",stepper:1,stream:null}}}),K=F,W=(n("bf6c"),n("a523")),Q=n("169a"),X=n("ce7e"),Y=n("cd55"),Z=n("49e2"),ee=n("c865"),te=n("0393"),ne=n("0fd9"),re=n("2fa4"),ae=n("7e85"),ie=n("e516"),oe=n("9c54"),ce=n("56a4"),se=n("b73d"),le=n("8654"),ue=n("c964"),pe=n("3a2f"),me=Object(u["a"])(K,J,z,!1,null,"600d00fa",null),de=me.exports;m()(me,{VBtn:I["a"],VContainer:W["a"],VDialog:Q["a"],VDivider:X["a"],VExpansionPanel:Y["a"],VExpansionPanelContent:Z["a"],VExpansionPanelHeader:ee["a"],VExpansionPanels:te["a"],VIcon:L["a"],VRow:ne["a"],VSpacer:re["a"],VStepper:ae["a"],VStepperContent:ie["a"],VStepperHeader:oe["a"],VStepperItems:oe["b"],VStepperStep:ce["a"],VSwitch:se["a"],VTextField:le["a"],VTimePicker:ue["a"],VTooltip:pe["a"]}),a["a"].use(b["a"]);var ve=[{path:"/",name:"Home",component:H},{path:"/setup",name:"Setup",component:de}],fe=new b["a"]({routes:ve}),he=fe,be=n("f309");a["a"].use(be["a"]);var ge=new be["a"]({theme:{dark:!0}}),we=n("5530"),xe=n("522d"),ye=n("efe7");a["a"].use(xe["a"]);var ke="apollo-token",Ce="127.0.0.1:5000/",_e="http://"+Ce+"graphql",Re="ws://"+Ce+"graphql",Se=_e,je={httpEndpoint:Se,wsEndpoint:Re,tokenName:ke,persisting:!1,websocketsOnly:!1,ssr:!1};function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(ye["createApolloClient"])(Object(we["a"])(Object(we["a"])({},je),e)),n=t.apolloClient,r=t.wsClient;n.wsClient=r;var a=new xe["a"]({defaultClient:n,defaultOptions:{$query:{}},errorHandler:function(e){console.log("%cError","background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;",e.message)}});return a}a["a"].config.productionTip=!1;var Te="/";a["a"].prototype.SERVER_URL=Te;var Ae=(new c["a"]).withUrl(Te+"msg").build();function De(){return Ve.apply(this,arguments)}function Ve(){return Ve=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ae.stop();case 2:return e.next=4,Ae.start();case 4:new a["a"]({router:he,vuetify:ge,apolloProvider:Oe(),render:function(e){return e(h)}}).$mount("#app");case 5:case"end":return e.stop()}}),e)}))),Ve.apply(this,arguments)}a["a"].prototype.SIGNAL_R=Ae,a["a"].directive("hold",{bind:function(e,t){if("function"===typeof t.value){var n=t.modifiers?Object.keys(t.modifiers)[0]:500,r=new Hammer.Manager(e),a=new Hammer.Press({time:n});r.add(a),r.on("press",t.value)}}}),De()},"85ec":function(e,t,n){},9561:function(e,t,n){},b681:function(e,t,n){"use strict";n("9561")},b785:function(e,t,n){"use strict";n("ce4ec")},bf6c:function(e,t,n){"use strict";n("ef85")},ce4ec:function(e,t,n){},ef85:function(e,t,n){},f51e:function(e,t,n){}});
//# sourceMappingURL=app.3e5eb7b9.js.map